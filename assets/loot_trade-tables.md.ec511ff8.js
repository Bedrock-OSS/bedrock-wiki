import{_ as l,c,a as n,w as s,b as t,e as o,d as e,r,o as u}from"./404.md.4e630b9f.js";var d="/assets/images/loot/trade_tables/trading.png";const xt='{"title":"Trade Tables","description":"","frontmatter":{"title":"Trade Tables","category":"Documentation","nav_order":2,"tags":["Stable","Last updated for Version 1.18.10"],"mention":["Ciosciaa"]},"headers":[{"level":2,"title":"Integration","slug":"integration"},{"level":2,"title":"Structure","slug":"structure"},{"level":3,"title":"Tiers","slug":"tiers"},{"level":3,"title":"Trade Groups","slug":"trade-groups"},{"level":3,"title":"Trades","slug":"trades"},{"level":3,"title":"Choices","slug":"choices"},{"level":3,"title":"Items","slug":"items"},{"level":2,"title":"Overrides","slug":"overrides"}],"relativePath":"loot/trade-tables.md"}',b={},m=o('<p>Trade tables represent the fundamental data behind trading item transactions for an entity. Trade tables are not standalone; they must be referenced from an <a href="https://bedrock.dev/docs/stable/Entities#minecraft%3Aeconomy_trade_table" target="_blank" rel="noopener noreferrer">entity component</a>. Using the randomizing properties available to trade tables, trade offers, item counts, and cost calculations may vary across entity instances, even if all would point to the same trade table.</p><p><img src="'+d+'" alt=""></p><p>Trade tables are not identified or versioned. Like loot tables, trade tables do not support Molang and instead rely on JSON constructs, like range objects and <a href="#functions">functions</a>. Despite being different, trade tables still support comments.</p><h2 id="integration" tabindex="-1">Integration <a class="header-anchor" href="#integration" aria-hidden="true">#</a></h2><p>Trade tables don&#39;t represent a primary add-on system, like blocks or biomes. They aren&#39;t registered by being placed in a specific folder; instead, they&#39;re referenced (from entities). Trade tables may be placed anywhere within a behavior pack.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>It&#39;s recommended to follow vanilla convention and place all trade tables within the top-level <code>trading</code> directory in a behavior pack. From there, any hierarchy can be employed.</p></div>',6),h=t("p",null,"The following example is referenced and analyzed throughout the document:",-1),k=e("BP/trading/minister.json"),_=t("div",{class:"language-json line-numbers-mode"},[t("pre",null,[t("code",null,[t("span",{class:"token punctuation"},"{"),e(`
	`),t("span",{class:"token property"},'"tiers"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
		`),t("span",{class:"token punctuation"},"{"),e(`
			`),t("span",{class:"token property"},'"groups"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
				`),t("span",{class:"token punctuation"},"{"),e(`
					`),t("span",{class:"token property"},'"num_to_select"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),e(`
					
					`),t("span",{class:"token property"},'"trades"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
						`),t("span",{class:"token punctuation"},"{"),e(`
							`),t("span",{class:"token property"},'"wants"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:blessing_glyph"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"quantity"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(`
										`),t("span",{class:"token property"},'"min"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},","),e(`
										`),t("span",{class:"token property"},'"max"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"4"),e(`
									`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
									
									`),t("span",{class:"token property"},'"price_multiplier"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"0.5"),e(`
								`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"minecraft:book"'),e(`
								`),t("span",{class:"token punctuation"},"}"),e(`
							`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"gives"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"minecraft:enchanted_book"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"functions"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
										`),t("span",{class:"token punctuation"},"{"),e(`
											`),t("span",{class:"token property"},'"function"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"enchant_book_for_trading"'),t("span",{class:"token punctuation"},","),e(`
											
											`),t("span",{class:"token property"},'"base_cost"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"4"),t("span",{class:"token punctuation"},","),e(`
											`),t("span",{class:"token property"},'"base_random_cost"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"12"),t("span",{class:"token punctuation"},","),e(`
											`),t("span",{class:"token property"},'"per_level_cost"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"4"),t("span",{class:"token punctuation"},","),e(`
											`),t("span",{class:"token property"},'"per_level_random_cost"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"8"),e(`
										`),t("span",{class:"token punctuation"},"}"),e(`
									`),t("span",{class:"token punctuation"},"]"),e(`
								`),t("span",{class:"token punctuation"},"}"),e(`
							`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"max_uses"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"7"),t("span",{class:"token punctuation"},","),e(`
							
							`),t("span",{class:"token property"},'"trader_exp"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"3"),e(`
						`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
						`),t("span",{class:"token punctuation"},"{"),e(`
							`),t("span",{class:"token property"},'"wants"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:crystalline_spiritite"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"quantity"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"32"),t("span",{class:"token punctuation"},","),e(`
									
									`),t("span",{class:"token property"},'"price_multiplier"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"0.125"),e(`
								`),t("span",{class:"token punctuation"},"}"),e(`
							`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"gives"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:exalted_blade"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"functions"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
										`),t("span",{class:"token punctuation"},"{"),e(`
											`),t("span",{class:"token property"},'"function"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"enchant_with_levels"'),t("span",{class:"token punctuation"},","),e(`
											
											`),t("span",{class:"token property"},'"treasure"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},","),e(`
											`),t("span",{class:"token property"},'"levels"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(`
												`),t("span",{class:"token property"},'"min"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"15"),t("span",{class:"token punctuation"},","),e(`
												`),t("span",{class:"token property"},'"max"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"25"),e(`
											`),t("span",{class:"token punctuation"},"}"),e(`
										`),t("span",{class:"token punctuation"},"}"),e(`
									`),t("span",{class:"token punctuation"},"]"),e(`
								`),t("span",{class:"token punctuation"},"}"),e(`
							`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"max_uses"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"2"),t("span",{class:"token punctuation"},","),e(`
							
							`),t("span",{class:"token property"},'"reward_exp"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"trader_exp"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"8"),e(`
						`),t("span",{class:"token punctuation"},"}"),e(`
					`),t("span",{class:"token punctuation"},"]"),e(`
				`),t("span",{class:"token punctuation"},"}"),e(`
			`),t("span",{class:"token punctuation"},"]"),e(`
		`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
		`),t("span",{class:"token punctuation"},"{"),e(`
			`),t("span",{class:"token property"},'"total_exp_required"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"28"),t("span",{class:"token punctuation"},","),e(`
			
			`),t("span",{class:"token property"},'"trades"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
				`),t("span",{class:"token punctuation"},"{"),e(`
					`),t("span",{class:"token property"},'"wants"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
						`),t("span",{class:"token punctuation"},"{"),e(`
							`),t("span",{class:"token property"},'"choice"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:sacred_stones"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"quantity"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(`
										`),t("span",{class:"token property"},'"min"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"4"),t("span",{class:"token punctuation"},","),e(`
										`),t("span",{class:"token property"},'"max"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"6"),e(`
									`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
									
									`),t("span",{class:"token property"},'"price_multiplier"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"0.5"),e(`
								`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
								`),t("span",{class:"token punctuation"},"{"),e(`
									`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:blessed_beads"'),t("span",{class:"token punctuation"},","),e(`
									`),t("span",{class:"token property"},'"quantity"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(`
										`),t("span",{class:"token property"},'"min"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"16"),t("span",{class:"token punctuation"},","),e(`
										`),t("span",{class:"token property"},'"max"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"24"),e(`
									`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
									
									`),t("span",{class:"token property"},'"price_multiplier"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"0.5"),e(`
								`),t("span",{class:"token punctuation"},"}"),e(`
							`),t("span",{class:"token punctuation"},"]"),e(`
						`),t("span",{class:"token punctuation"},"}"),e(`
					`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
					`),t("span",{class:"token property"},'"gives"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"["),e(`
						`),t("span",{class:"token punctuation"},"{"),e(`
							`),t("span",{class:"token property"},'"item"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},'"wiki:aeleon_jewels"'),t("span",{class:"token punctuation"},","),e(`
							`),t("span",{class:"token property"},'"quantity"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token punctuation"},"{"),e(`
								`),t("span",{class:"token property"},'"min"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"4"),t("span",{class:"token punctuation"},","),e(`
								`),t("span",{class:"token property"},'"max"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"6"),e(`
							`),t("span",{class:"token punctuation"},"}"),e(`
						`),t("span",{class:"token punctuation"},"}"),e(`
					`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),e(`
					`),t("span",{class:"token property"},'"max_uses"'),t("span",{class:"token operator"},":"),e(),t("span",{class:"token number"},"2"),e(`
				`),t("span",{class:"token punctuation"},"}"),e(`
			`),t("span",{class:"token punctuation"},"]"),e(`
		`),t("span",{class:"token punctuation"},"}"),e(`
	`),t("span",{class:"token punctuation"},"]"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`)])]),t("div",{class:"line-numbers-wrapper"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br"),t("span",{class:"line-number"},"40"),t("br"),t("span",{class:"line-number"},"41"),t("br"),t("span",{class:"line-number"},"42"),t("br"),t("span",{class:"line-number"},"43"),t("br"),t("span",{class:"line-number"},"44"),t("br"),t("span",{class:"line-number"},"45"),t("br"),t("span",{class:"line-number"},"46"),t("br"),t("span",{class:"line-number"},"47"),t("br"),t("span",{class:"line-number"},"48"),t("br"),t("span",{class:"line-number"},"49"),t("br"),t("span",{class:"line-number"},"50"),t("br"),t("span",{class:"line-number"},"51"),t("br"),t("span",{class:"line-number"},"52"),t("br"),t("span",{class:"line-number"},"53"),t("br"),t("span",{class:"line-number"},"54"),t("br"),t("span",{class:"line-number"},"55"),t("br"),t("span",{class:"line-number"},"56"),t("br"),t("span",{class:"line-number"},"57"),t("br"),t("span",{class:"line-number"},"58"),t("br"),t("span",{class:"line-number"},"59"),t("br"),t("span",{class:"line-number"},"60"),t("br"),t("span",{class:"line-number"},"61"),t("br"),t("span",{class:"line-number"},"62"),t("br"),t("span",{class:"line-number"},"63"),t("br"),t("span",{class:"line-number"},"64"),t("br"),t("span",{class:"line-number"},"65"),t("br"),t("span",{class:"line-number"},"66"),t("br"),t("span",{class:"line-number"},"67"),t("br"),t("span",{class:"line-number"},"68"),t("br"),t("span",{class:"line-number"},"69"),t("br"),t("span",{class:"line-number"},"70"),t("br"),t("span",{class:"line-number"},"71"),t("br"),t("span",{class:"line-number"},"72"),t("br"),t("span",{class:"line-number"},"73"),t("br"),t("span",{class:"line-number"},"74"),t("br"),t("span",{class:"line-number"},"75"),t("br"),t("span",{class:"line-number"},"76"),t("br"),t("span",{class:"line-number"},"77"),t("br"),t("span",{class:"line-number"},"78"),t("br"),t("span",{class:"line-number"},"79"),t("br"),t("span",{class:"line-number"},"80"),t("br"),t("span",{class:"line-number"},"81"),t("br"),t("span",{class:"line-number"},"82"),t("br"),t("span",{class:"line-number"},"83"),t("br"),t("span",{class:"line-number"},"84"),t("br"),t("span",{class:"line-number"},"85"),t("br"),t("span",{class:"line-number"},"86"),t("br"),t("span",{class:"line-number"},"87"),t("br"),t("span",{class:"line-number"},"88"),t("br"),t("span",{class:"line-number"},"89"),t("br"),t("span",{class:"line-number"},"90"),t("br"),t("span",{class:"line-number"},"91"),t("br"),t("span",{class:"line-number"},"92"),t("br"),t("span",{class:"line-number"},"93"),t("br"),t("span",{class:"line-number"},"94"),t("br"),t("span",{class:"line-number"},"95"),t("br"),t("span",{class:"line-number"},"96"),t("br"),t("span",{class:"line-number"},"97"),t("br"),t("span",{class:"line-number"},"98"),t("br"),t("span",{class:"line-number"},"99"),t("br"),t("span",{class:"line-number"},"100"),t("br"),t("span",{class:"line-number"},"101"),t("br"),t("span",{class:"line-number"},"102"),t("br"),t("span",{class:"line-number"},"103"),t("br"),t("span",{class:"line-number"},"104"),t("br"),t("span",{class:"line-number"},"105"),t("br"),t("span",{class:"line-number"},"106"),t("br"),t("span",{class:"line-number"},"107"),t("br"),t("span",{class:"line-number"},"108"),t("br"),t("span",{class:"line-number"},"109"),t("br"),t("span",{class:"line-number"},"110"),t("br"),t("span",{class:"line-number"},"111"),t("br"),t("span",{class:"line-number"},"112"),t("br"),t("span",{class:"line-number"},"113"),t("br"),t("span",{class:"line-number"},"114"),t("br"),t("span",{class:"line-number"},"115"),t("br"),t("span",{class:"line-number"},"116"),t("br"),t("span",{class:"line-number"},"117"),t("br"),t("span",{class:"line-number"},"118"),t("br"),t("span",{class:"line-number"},"119"),t("br"),t("span",{class:"line-number"},"120"),t("br")])],-1),f=t("h2",{id:"structure",tabindex:"-1"},[e("Structure "),t("a",{class:"header-anchor",href:"#structure","aria-hidden":"true"},"#")],-1),y=t("p",null,"Trade tables are represented as un-versioned, un-namespaced objects.",-1),g=e("#"),v=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;groups&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;total_exp_required&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>

			<span class="token property">&quot;trades&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Trade tables use <a href="#tiers">tiers</a> to structure trade organization. Tiers are defined with the required top-level <code>&quot;tiers&quot;</code> array property. Tiers appear in order in the trading interface.</p><h3 id="tiers" tabindex="-1">Tiers <a class="header-anchor" href="#tiers" aria-hidden="true">#</a></h3><p>Tiers act as an unlockable set of trades and represent the highest level of grouping in a trade table.</p>`,4),q=e("#/tiers/0"),w=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;groups&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,1),T=e("#/tiers/1"),x=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;total_exp_required&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span>

	<span class="token property">&quot;trades&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Each tier must either represent a set of <a href="#trades">trades</a> (as <code>&quot;trades&quot;</code>) or <a href="#groups">trade groups</a> (as <code>&quot;groups&quot;</code>); one of these properties is required. If trades are specified, all such trades will appear for that tier. If instead groups are given, trades from all listed groups will be used for that tier; how each group selects its trades depends on its configuration.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>If both <code>&quot;trades&quot;</code> and <code>&quot;groups&quot;</code> are given in a tier, the trades declaration is ignored in favor of groups.</p></div><p>Within a tier, trades appear in order in the trading interface. If trades are grouped, those groups will appear in their defined order as well, organized by group and then by trade. Trades in one group are not visually differentiable from trades in other groups; only tiers are visually separated and identifiable.</p><h4 id="experience-requirement" tabindex="-1">Experience Requirement <a class="header-anchor" href="#experience-requirement" aria-hidden="true">#</a></h4><p>Tiers are unlocked when the <em>trader</em> meets experience thresholds. Each trader has its own internal lifetime experience that accumulates when trading with players. The amount of experience obtained per trade depends on that trade&#39;s <a href="#trader-experience">experience reward</a>. The optional <code>&quot;total_exp_required&quot;</code> property specifies how much experience the trader needs in order for that tier to unlock.</p>`,6),I=e("#/tiers/1/"),A=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;total_exp_required&quot;</span><span class="token operator">:</span> <span class="token number">28</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>By default, the amount of experience needed is set to the index of the trade tier. Therefore, the second tier would require the trader to have 1 XP; the third tier would require 2 XP; and so forth. The first tier is always unlocked automatically, <a href="#initial-tier-experience">regardless of its set experience threshold</a>.</p><h4 id="tier-unlocking" tabindex="-1">Tier Unlocking <a class="header-anchor" href="#tier-unlocking" aria-hidden="true">#</a></h4><p>Tiers are unlocked in order. When a new tier is unlocked, the subsequent tier is additionally checked to see if its threshold is met by the current XP. If it is, it unlocks and checks its subsequent tier, and so forth. Tier unlocking is checked when the rewarded trader experience would suffice for multiple tiers or if a <a href="#initial-tier-experience">provided initial experience</a> would unlock subsequent tiers when correctly updated by the game.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Since tiers are checked one-at-a-time, if tier unlocking would stop due to the XP requirements of a tier not being met, no subsequent tiers will be checked, even if those later tiers&#39; XP requirements have been met.</p></div><h5 id="initial-tier-experience" tabindex="-1">Initial Tier Experience <a class="header-anchor" href="#initial-tier-experience" aria-hidden="true">#</a></h5><p>Special handling occurs for a non-zero experience threshold in the first tier. If negative, <em>all</em> tiers will be unlocked. If greater than 0, the initial experience of the trader is set to the provided value.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>When the initial tier&#39;s experience threshold is non-zero, a manual update is required for a trader&#39;s trades to reflect the actual nature of their trade table. In these cases, performing a trade or closing and re-opening the trading interface will update the interface correctly. Initially, only the first tier will be available even if other tiers should be unlocked.</p></div><h5 id="tier-freezing" tabindex="-1">Tier Freezing <a class="header-anchor" href="#tier-freezing" aria-hidden="true">#</a></h5><p>Excluding the <a href="#initial-tier-experience">initial tier</a>, it&#39;s possible to freeze trades at a tier:</p>`,10),S=e("Example Tier Freeze"),P=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;total_exp_required&quot;</span><span class="token operator">:</span> <span class="token number">-1</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>When its prior tier is unlocked, a tier with a negative XP requirement will immediately unlock, <a href="#tier-unlocking">as expected</a>. However, it will be impossible for the player to progress to any subsequent tiers.</p><h3 id="trade-groups" tabindex="-1">Trade Groups <a class="header-anchor" href="#trade-groups" aria-hidden="true">#</a></h3><p>Trade groups are a way to randomly select which trades an individual trader should use for a tier.</p>`,4),C=e("#/tiers/0/groups/0"),E=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;num_to_select&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

	<span class="token property">&quot;trades&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The trades from which to select are given with the required <code>&quot;trades&quot;</code> array; each entry is a <a href="#trades">trade</a>. A select number of these trades, indicated by the optional <code>&quot;num_to_select&quot;</code> property, will be picked for that tier for each trader. If <code>&quot;num_to_select&quot;</code> is <code>0</code>, all trades will be selected; this is the default.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Trade groups cannot be nested for advanced chance selection.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Currently, no random selection count is possible. Nor is weighting by trade, but trades can be duplicated within the array to effectively increase their likelihood of being selected.</p></div><h3 id="trades" tabindex="-1">Trades <a class="header-anchor" href="#trades" aria-hidden="true">#</a></h3><p>Trades represent a transaction between a trader and the player.</p>`,6),V=e("#/tiers/0/trades/1"),j=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;wants&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;gives&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;max_uses&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>

	<span class="token property">&quot;reward_exp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token property">&quot;trader_exp&quot;</span><span class="token operator">:</span> <span class="token number">8</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Once a trade is picked for a trade slot, it will not fundamentally change. Only the <a href="#quantity">quantity</a> can be modified in certain situations.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Individual trade definitions can affect more than just trades themselves. Notably, an entity can <a href="https://bedrock.dev/docs/stable/Entities#minecraft%3Abehavior.trade_interest" target="_blank" rel="noopener noreferrer">hold a particular item</a> in response to the player holding an item.</p></div><h4 id="wanted-and-given-items" tabindex="-1">Wanted and Given Items <a class="header-anchor" href="#wanted-and-given-items" aria-hidden="true">#</a></h4><p>The fundamental transactional units are declared using <code>&quot;wants&quot;</code> and <code>&quot;gives&quot;</code>; players trade with <code>&quot;wants&quot;</code> to receive <code>&quot;gives&quot;</code>. Both properties must be arrays and are required.</p>`,5),N=e("#/tiers/0/trades/1/"),B=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;wants&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token property">&quot;gives&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\u2026<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>A trade can have between 1 and 2 wanted entries and must have exactly 1 given entry. Each entry of either array may be either an <a href="#items">item</a> or a <a href="#choices">choice</a>.</p><p>The trading interface will adapt depending on the number of items wanted. In some circumstances, some trading modifiers, such as <a href="#quantity-modifying-enchantment-functions">quantity-modifying enchantment functions</a>, only affect the first wanted item.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>If an object is provided as an entry that contains both item and choice properties, only the choice part is considered; the item parts will be ignored.</p></div><h4 id="trade-limit" tabindex="-1">Trade Limit <a class="header-anchor" href="#trade-limit" aria-hidden="true">#</a></h4><p>A trader can typically only perform an individual trade a set number of times before having to resupply. The numeric <code>&quot;max_uses&quot;</code> property configures this number.</p>`,6),D=e("#/tiers/0/trades/1/"),R=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;max_uses&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Trade limits are specific to each trade. Diminishing supply in one trade won&#39;t affect another trade, even if both trades have the same wanted and given items. By default, a trader will be able to carry out an individual trade 7 times before needing to resupply.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>The act of resupplying is handled by an entity component (<code>&quot;minecraft:trade_resupply&quot;: {}</code>).</p></div><p>If a value of <code>0</code> is given, that trade will be shown in the trading interface but will be impossible to use. If a negative value is given, that trade will never need resupplying; it will be infinitely usable.</p><h4 id="player-experience" tabindex="-1">Player Experience <a class="header-anchor" href="#player-experience" aria-hidden="true">#</a></h4><p>Experience orbs intended for the <em>player</em> can be disabled for a trade using the optional Boolean <code>&quot;reward_exp&quot;</code> property.</p>`,6),O=e("#/tiers/0/trades/1/"),F=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;reward_exp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>By default, <code>&quot;reward_exp&quot;</code> is true, and the player will be rewarded with some experience for trading. The amount of experience received is not modifiable within a trade table.</p><h4 id="trader-experience" tabindex="-1">Trader Experience <a class="header-anchor" href="#trader-experience" aria-hidden="true">#</a></h4><p>Traders may receive experience when the player finalizes a trade. This property is the key to establishing a trade progression system with a trader using <a href="#tiers">tiers</a>.</p>`,4),z=e("#/tiers/0/trades/1/"),W=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;trader_exp&quot;</span><span class="token operator">:</span> <span class="token number">8</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The amount of experience to reward the <em>trader</em> is given the the optional numeric property <code>&quot;trader_exp&quot;</code>. By default, the trader will receive 1 XP.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For non-linearly spaced tiers, it&#39;s typical for the trader experience to increase in higher tiers. This way, lower-tier trades will have less leveling impact than higher-tier trades.</p></div><h3 id="choices" tabindex="-1">Choices <a class="header-anchor" href="#choices" aria-hidden="true">#</a></h3><p>Choices are simple objects for randomly selecting an item to use for a trade. One item is selected with uniform randomness for that trade for each instance of a trader.</p>`,5),H=e("#/tiers/1/trades/0/wants/0"),X=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;choice&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:sacred_stones&quot;</span><span class="token punctuation">,</span>
			\u2026
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:blessed_beads&quot;</span><span class="token punctuation">,</span>
			\u2026
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Choices only contain the required <code>&quot;choice&quot;</code> array property. Each entry in the array is an <a href="#items">item</a>. At least one item must be provided.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Choices cannot be nested.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>There are currently no means of specifying a weight for a given item, but an item may be duplicated within the array to effectively increase its likelihood for being selected.</p></div><h3 id="items" tabindex="-1">Items <a class="header-anchor" href="#items" aria-hidden="true">#</a></h3><p>Items are the subjects of a trade. Their definitions are shared between wanted and given items, but there are some various implications depending on location used.</p>`,6),G=e("#/tiers/1/trades/0/wants/0/choice/0"),L=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:sacred_stones&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;min&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
		<span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token property">&quot;price_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,1),M=e("#/tiers/0/groups/0/trades/1/gives/0"),Q=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:exalted_blade&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;functions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enchant_with_levels&quot;</span><span class="token punctuation">,</span>

			<span class="token property">&quot;treasure&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token property">&quot;levels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;min&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
				<span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">25</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="item-reference" tabindex="-1">Item Reference <a class="header-anchor" href="#item-reference" aria-hidden="true">#</a></h4><p>Items are referenced within trades using the required <code>&quot;item&quot;</code> string property.</p>`,3),U=e("#/tiers/1/trades/0/wants/0/choice/0/"),$=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:exalted_blade&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The item reference must point to the identifier of an item. A data value can be provided in-place to the reference as a suffix:</p>`,2),J=e("Example Data Assignment"),K=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:log:2&quot;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Data values can also be set (and much more conveniently randomized) using the <code>set_data</code> function.</p></div><p>If no data value is specified for a <em>wanted</em> item, any item with that identifier may be traded. If no data value is specified for a <em>given</em> item, a data value of <code>0</code> is implied.</p><h4 id="quantity" tabindex="-1">Quantity <a class="header-anchor" href="#quantity" aria-hidden="true">#</a></h4><p>The optional <code>&quot;quantity&quot;</code> property specifies the count of items wanted or given in a trade.</p>`,5),Y=e("#/tiers/1/trades/0/wants/0/choice/0/"),Z=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;quantity&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;min&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Quantity can be expressed as either an integer literal or a range object, such as seen above. If expressed as a range, a random value is selected uniformly inclusively within the specified limits. If no quantity is provided, the item count will default to 1.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Quantity is always bounded by the stack size and can only affect a single slot in a trade. It&#39;s impossible to, for example, enforce a requirement of 100 planks from a single slot (although this can be done using 2 <code>&quot;wants&quot;</code>) or giving 2 un-stackable swords to the player in a single trade.</p></div><h4 id="price-multiplier" tabindex="-1">Price Multiplier <a class="header-anchor" href="#price-multiplier" aria-hidden="true">#</a></h4><p>The price multiplier dictates how an item&#39;s <a href="#quantity">base quantity</a> is altered due to certain events.</p>`,5),tt=e("#/tiers/1/trades/0/wants/0/choice/0/"),et=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;price_multiplier&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>&quot;price_multiplier&quot;</code> is optional and defaults to <code>0</code>. Two systems exist that use the price multiplier: a modern and a legacy system. In the modern system, the given price multiplier can only affect the <em>first wanted item</em> in a trade. In the legacy system, any <em>wanted items</em> can be affected.</p><h5 id="fluctuation-factors" tabindex="-1">Fluctuation Factors <a class="header-anchor" href="#fluctuation-factors" aria-hidden="true">#</a></h5><p>Trade prices fluctuate as a result of serval factors:</p><ul><li>An increased demand, occurring when trading for the same item across multiple <a href="#trade-limit">resupplies</a></li><li>Being recently cured, such as villagers being cured from being zombie villagers</li><li>Being <em>near</em> a trader who was recently cured</li><li>Trading with a player who is affected with &quot;Hero of the Village&quot;</li></ul><p>The price multiplier affects all these situations with the exception of a player having &quot;Hero of the Village&quot; when using the new pricing formula, which uses fixed values.</p><h5 id="cost-calculations" tabindex="-1">Cost Calculations <a class="header-anchor" href="#cost-calculations" aria-hidden="true">#</a></h5><p>The price multiplier directly and solely affects cost increases in response to an increased demand for a trade. By default, demand is 0 and cannot decrease past that value. Demand for a trade stacks, increasing when resupplying after that trade <a href="#trade-limit">has been exhausted</a> and decreasing if no trades occurred between resupplies.</p><p>Cost increase due solely to demand is linear, where each increase in demand adds a proportion of the base cost, given by the price multiplier. Assuming the following variables\u2026</p><table><thead><tr><th>Variable</th><th>Meaning</th></tr></thead><tbody><tr><td><em>c</em></td><td>Total cost</td></tr><tr><td><em>p</em></td><td>Base cost, including <a href="#quantity-modifying-enchantment-functions">quantity overrides</a></td></tr><tr><td><em>m</em></td><td>Price multiplier</td></tr><tr><td><em>d</em></td><td>Current demand</td></tr></tbody></table><br> \u2026The following formula can be used to calculate the total cost when no other factors are present: <p><em>c</em> = <em>p</em> \xD7 (1 + <em>m</em> * <em>d</em>)</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Other situations additionally use entity properties for cost calculations and are not provided here.</p></div><p>If the price multiplier is <code>0</code>, the quantity will remain constant in most situations (except\xA0the &quot;Hero of the Village&quot; modifier using the new pricing formula).</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>A negative price multiplier is possible but can&#39;t affect increasing costs due to <a href="#trade-limit">demand</a>; the multiplier will effectively be capped to <code>0</code>. However, negative values do affect prices in response to the trader recently being cured, the trader being nearby another trader who was recently cured, or trading with a player affected with &quot;Hero of the Village&quot; <em>using the legacy pricing formulas</em>.</p></div><h4 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-hidden="true">#</a></h4><p>Functions are used to modify the nature of the item. The optional <code>&quot;functions&quot;</code> array contains a collection of functions to be applied to the item.</p>`,18),nt=e("#/tiers/0/groups/0/trades/1/gives/0/"),st=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token property">&quot;functions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enchant_with_levels&quot;</span><span class="token punctuation">,</span>

		<span class="token property">&quot;treasure&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token property">&quot;levels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;min&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
			<span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">25</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>The functions used by trade tables are shared with loot tables. When used (<a href="#unusable-wanted-item-functions">where usable</a>) in a wanted item declaration, they act to restrict the nature of the wanted item. Such function restrictions can only affect the first wanted item.</p><h5 id="generally-unusable-functions" tabindex="-1">Generally Unusable Functions <a class="header-anchor" href="#generally-unusable-functions" aria-hidden="true">#</a></h5><p>In general, functions behave well for trading; however, the following do not work anywhere in trade tables:</p><ul><li><code>set_count</code></li><li><code>furnace_smelt</code></li><li><code>looting_enchant</code></li><li><code>trader_material_type</code></li></ul><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p><code>set_count</code>&#39;s functionality is replaced by the <a href="#quantity">quantity property</a>.</p><p><code>trader_material_type</code>, seen only in a single vanilla trade table, would theoretically set the data value of the item based on the mark variant of the entity, but this doesn&#39;t seem to be usable in any custom way.</p></div><h5 id="unusable-wanted-item-functions" tabindex="-1">Unusable Wanted Item Functions <a class="header-anchor" href="#unusable-wanted-item-functions" aria-hidden="true">#</a></h5><p>In general, using functions to specify item attributes for a wanted item will require the offered item to conform to those attributes. However, the following functions do not enforce a strict match and are therefore useless on wanted items:</p><ul><li><code>set_name</code></li><li><code>set_lore</code></li><li><code>set_damage</code></li><li><code>set_book_contents</code></li><li><code>random_dye</code></li><li><code>fill_container</code></li></ul><h5 id="quantity-modifying-enchantment-functions" tabindex="-1">Quantity-Modifying Enchantment Functions <a class="header-anchor" href="#quantity-modifying-enchantment-functions" aria-hidden="true">#</a></h5><p>2 functions actually set the quantity for the first <em>wanted item</em> if being used as <em>given items</em>, potentially overriding any provided <a href="#quantity">quantity</a> for that first wanted item:</p><ul><li><code>enchant_with_levels</code></li><li><code>enchant_book_for_trading</code></li></ul><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Despite overriding the quantity, all <a href="#fluctuation-factors">modified trade prices</a> adapt correctly. These functions cannot affect the quantity of a second wanted item, even when using the legacy cost formulas. If these functions are used on a <em>wanted item</em>, the quantity is not overridden.</p></div><h6 id="enchant-with-levels-function" tabindex="-1">Enchant with Levels Function <a class="header-anchor" href="#enchant-with-levels-function" aria-hidden="true">#</a></h6><p><code>enchant_with_levels</code> randomly enchants an item as through enchanted from an enchantment table.</p>`,15),at=e("#/tiers/0/groups/0/trades/1/gives/0/functions/0"),ot=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enchant_with_levels&quot;</span><span class="token punctuation">,</span>

	<span class="token property">&quot;treasure&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token property">&quot;levels&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;min&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
		<span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">25</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The cost for the first wanted item is determined by adding this function&#39;s chosen level value (capped to <code>0</code> if it would be negative) to the original <a href="#quantity">quantity</a>. The level value is computed from the optional <code>&quot;levels&quot;</code> property. If a numeric literal is used, that value is the chosen level value. If a range object is used, as above, a random number is rolled inclusively between the provided minimum and maximum. That random number then acts as the chosen level value. In the above example, the first wanted item&#39;s cost would be increased by 5 to 25.</p><h6 id="enchant-book-for-trading-function" tabindex="-1">Enchant Book for Trading Function <a class="header-anchor" href="#enchant-book-for-trading-function" aria-hidden="true">#</a></h6><p><code>enchant_book_for_trading</code> is intended solely for trading. Its properties combine to determine the first wanted item&#39;s cost.</p>`,4),rt=e("#/tiers/0/groups/0/trades/0/gives/0/functions/0"),pt=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enchant_book_for_trading&quot;</span><span class="token punctuation">,</span>

	<span class="token property">&quot;base_cost&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token property">&quot;base_random_cost&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
	<span class="token property">&quot;per_level_cost&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token property">&quot;per_level_random_cost&quot;</span><span class="token operator">:</span> <span class="token number">8</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>This function was only designed to be used on books, rolling for a single enchantment across all possible non-curse enchantments, including treasure enchantments. The function doesn&#39;t adapt to the current item. If used on a book, an enchantment will always successfully be applied; if used on something else enchantable, it&#39;s possible the item won&#39;t be successfully enchanted.</p><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Presumably, when failing, the function rolls for an enchantment not applicable to the item and then fails to apply this irrelevant enchantment, resulting in an unenchanted item. The successfulness of enchanting a non-book is therefore proportional to the number of enchantments applicable to that item.</p></div><p>The total cost is set from a base cost, which is independent of the rolled enchantment, and a per-level cost, which is dependent on the random roll. All cost configuration properties are optional.</p><p>The base cost is computed by summing a starting value and a random roll. The starting value is given with <code>&quot;base_cost&quot;</code>, which defaults to <code>2</code>. The random roll is provided via <code>&quot;base_random_cost&quot;</code>, which defaults to <code>4</code>. A number will be uniformly randomly selected inclusively between 0 and the <code>&quot;base_random_cost&quot;</code> when a trade is generated for a trader.</p><p>For each level on the chosen enchantment, the same process occurs as in the base cost calculations: a fixed value is added to a uniformly randomly selected value. In this case, the base per-level cost is given with <code>&quot;per_level_cost&quot;</code>, which defaults to <code>3</code>, and the random per-level cost is given with <code>&quot;per_level_random_cost&quot;</code>, which defaults to <code>10</code>. The random per-level roll may be different for each level.</p><p>Once the base cost and costs for each level are calculated, they are summed together to form the total cost. Finally, if the chosen enchantment is a treasure enchantment, the cost is then doubled. As usual, this cost cannot be less than 1 or greater than the stack size of that item. This formula holds true regardless of the pricing system being used by the trader.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If either random cost property is negative, there seems to be a 50-50 chance that the cost will be either the given <a href="#quantity">quantity</a> or the maximum stack size for that first wanted item.</p></div>`,8),it={class:"tip custom-block"},lt=t("p",{class:"custom-block-title"},"TIP",-1),ct=t("p",null,[e("If the total combined cost would be negative (assuming no negative random cost properties were used), the provided "),t("a",{href:"#quantity"},"quantity"),e(" of the affected wanted item is used instead. The simplest means of guaranteeing this would be:")],-1),ut=e("Example Quantity-Based Enchanted Book Cost"),dt=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enchant_book_for_trading&quot;</span><span class="token punctuation">,</span>

	<span class="token property">&quot;base_cost&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
	<span class="token property">&quot;base_random_cost&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;per_level_cost&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	<span class="token property">&quot;per_level_random_cost&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,1),bt=t("h5",{id:"spawn-egg-trader-binding",tabindex:"-1"},[e("Spawn Egg Trader Binding "),t("a",{class:"header-anchor",href:"#spawn-egg-trader-binding","aria-hidden":"true"},"#")],-1),mt=t("p",null,[e("The "),t("code",null,'"set_actor_id"'),e(" function is used to set the data value of a spawn egg based on a provided entity identifier, given with "),t("code",null,'"id"'),e(".")],-1),ht=e("Example Spawn Egg Trader Binding"),kt=o(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;function&quot;</span><span class="token operator">:</span> <span class="token string">&quot;set_actor_id&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>In trade tables, if no ID is provided, the trader&#39;s entity type will be assigned to the egg.</p><h2 id="overrides" tabindex="-1">Overrides <a class="header-anchor" href="#overrides" aria-hidden="true">#</a></h2><p>Because trade tables do not use in-data identifiers, they are overridden simply by replacing a prior trade table with a new one. Below are the currently used vanilla trade tables for each trader:</p><table><thead><tr><th>Trader</th><th>Path</th></tr></thead><tbody><tr><td>Stone Mason</td><td><code>BP/trading/economy_trades/stone_mason_trades.json</code></td></tr><tr><td>Farmer</td><td><code>BP/trading/economy_trades/farmer_trades.json</code></td></tr><tr><td>Fisherman</td><td><code>BP/trading/economy_trades/fisherman_trades.json</code></td></tr><tr><td>Butcher</td><td><code>BP/trading/economy_trades/butcher_trades.json</code></td></tr><tr><td>Shepherd</td><td><code>BP/trading/economy_trades/shepherd_trades.json</code></td></tr><tr><td>Leather Worker</td><td><code>BP/trading/economy_trades/leather_worker_trades.json</code></td></tr><tr><td>Librarian</td><td><code>BP/trading/economy_trades/librarian_trades.json</code></td></tr><tr><td>Cartographer</td><td><code>BP/trading/economy_trades/cartographer_trades.json</code></td></tr><tr><td>Cleric</td><td><code>BP/trading/economy_trades/cleric_trades.json</code></td></tr><tr><td>Tool Smith</td><td><code>BP/trading/economy_trades/tool_smith_trades.json</code></td></tr><tr><td>Weapon Smith</td><td><code>BP/trading/economy_trades/weapon_smith_trades.json</code></td></tr><tr><td>Fletcher</td><td><code>BP/trading/economy_trades/fletcher_trades.json</code></td></tr><tr><td>Armorer</td><td><code>BP/trading/economy_trades/armorer_trades.json</code></td></tr><tr><td>Wandering Trader</td><td><code>BP/trading/economy_trades/wandering_trader_trades.json</code></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Additional trade tables exist directly within the <code>trading</code> folder, but these are deprecated. Only the tables in the <code>economy_trades</code> sub-folder are currently used.</p></div><p>Alternatively, a trader entity definition can be updated to point to a new trade table location.</p>`,7);function _t(ft,yt,gt,vt,qt,wt){const p=r("FolderView"),a=r("CodeHeader"),i=r("Spoiler");return u(),c("div",null,[m,n(p,{paths:["BP/trading/minister.json","BP/trading/economy_trades/cleric_trades.json"]},null,8,["paths"]),h,n(i,{title:"Trade Table File Example"},{default:s(()=>[n(a,null,{default:s(()=>[k]),_:1}),_]),_:1}),f,y,n(a,null,{default:s(()=>[g]),_:1}),v,n(a,null,{default:s(()=>[q]),_:1}),w,n(a,null,{default:s(()=>[T]),_:1}),x,n(a,null,{default:s(()=>[I]),_:1}),A,n(a,null,{default:s(()=>[S]),_:1}),P,n(a,null,{default:s(()=>[C]),_:1}),E,n(a,null,{default:s(()=>[V]),_:1}),j,n(a,null,{default:s(()=>[N]),_:1}),B,n(a,null,{default:s(()=>[D]),_:1}),R,n(a,null,{default:s(()=>[O]),_:1}),F,n(a,null,{default:s(()=>[z]),_:1}),W,n(a,null,{default:s(()=>[H]),_:1}),X,n(a,null,{default:s(()=>[G]),_:1}),L,n(a,null,{default:s(()=>[M]),_:1}),Q,n(a,null,{default:s(()=>[U]),_:1}),$,n(a,null,{default:s(()=>[J]),_:1}),K,n(a,null,{default:s(()=>[Y]),_:1}),Z,n(a,null,{default:s(()=>[tt]),_:1}),et,n(a,null,{default:s(()=>[nt]),_:1}),st,n(a,null,{default:s(()=>[at]),_:1}),ot,n(a,null,{default:s(()=>[rt]),_:1}),pt,t("div",it,[lt,ct,n(a,null,{default:s(()=>[ut]),_:1}),dt]),bt,mt,n(a,null,{default:s(()=>[ht]),_:1}),kt])}var It=l(b,[["render",_t]]);export{xt as __pageData,It as default};
