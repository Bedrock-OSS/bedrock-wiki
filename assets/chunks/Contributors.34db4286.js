import{g as B,u as k,h as C,i as A,j as R,k as m,o as p,c as _,b as O,F as T,l as U,m as x}from"../404.md.286bf167.js";async function b(d,s){return fetch(d,s)}const L={key:0,class:"inline-block"},N={class:"space-x-2 md:-space-x-2 md:hover:space-x-2"},P=["href","alt"],S=["src","alt","title"],j=B({__name:"Contributors",props:{mentioned:null},async setup(d){let s,E;const i=d,{page:g,site:l}=k(),w=async function(){const n=l.value.themeConfig.docsDir+"/"+g.value.relativePath,o=l.value.themeConfig.contributors;if(!o||!JSON.stringify(o).includes("SirLich"))return console.error("couldn't fetch contributors:",o),await D();const e=o[n]?Array.from(o[n]):null;if(!e)return console.error("Document path:",n,"not found within contributors:",Object.keys(o)),await D();const a={...!!{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.GITHUB_TOKEN&&{Authorization:"Bearer "+{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.GITHUB_TOKEN}};for(let r=0;r<i.mentioned.length;r++){if(e.filter(t=>t.login===i.mentioned[r]).length>0)continue;const c="https://api.github.com/users/"+i.mentioned[r];let h=await(await b(c,{headers:a})).json();e.push(h)}return e},D=async function(){var f,h;let n="https://api.github.com/repos/"+l.value.themeConfig.repo+"/commits?path="+l.value.themeConfig.docsDir+"/"+g.value.relativePath;const o={...!!{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.GITHUB_TOKEN&&{Authorization:"Bearer "+{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.GITHUB_TOKEN}};let a=await(await b(n,{headers:o})).json(),r=[];const c=t=>r.filter(v=>v.login===t).length>0;for(let t=0;t<a.length;t++)((h=(f=a[t])==null?void 0:f.author)==null?void 0:h.login)&&!c(a[t].author.login)&&r.push(a[t].author);for(let t=0;t<i.mentioned.length;t++){n="https://api.github.com/users/"+i.mentioned[t];let y=await(await b(n,{headers:o})).json();c(y.login)||r.push(y)}return r};let u=C(([s,E]=A(()=>w()),s=await s,E(),s));return R(g,async()=>{u.value=await w()}),(n,o)=>m(u)&&m(u).length>0?(p(),_("div",L,[O("div",N,[(p(!0),_(T,null,U(m(u),e=>(p(),_("a",{key:e.login,href:e.html_url,alt:e.login,target:"_blank",class:"h-8 w-8 transition-spacing ease-in-out duration-150"},[O("img",{src:e.avatar_url,class:"h-8 w-8 rounded-full border-2 border-white dark:border-true-gray-600 bg-white dark:bg-true-gray-900",alt:e.login,title:e.login},null,8,S)],8,P))),128))])])):x("",!0)}});export{j as default};
