import{_ as l,c as i,a as n,w as o,b as e,d as a,e as s,r,o as c}from"./404.md.286bf167.js";const F=JSON.parse('{"title":"Look at Entity","description":"","frontmatter":{"title":"Look at Entity","category":"Tutorials","tags":["intermediate"],"mention":["shanewolf38"]},"headers":[{"level":2,"title":"variable","slug":"variable","link":"#variable","children":[]},{"level":2,"title":"Modifying","slug":"modifying","link":"#modifying","children":[]},{"level":2,"title":"Explanation","slug":"explanation","link":"#explanation","children":[]}],"relativePath":"entities/look-at-entity.md"}'),p={name:"entities/look-at-entity.md"},d=e("p",null,[a("The following tutorial provides a resource pack method to detect when the player is looking at an entity. The code below must be placed inside the entity that will be looked at by the player, and will provide a variable "),e("code",null,"v.look_at_entity"),a(" which returns true when the entity is being looked at.")],-1),h=e("h2",{id:"variable",tabindex:"-1"},[a("variable "),e("a",{class:"header-anchor",href:"#variable","aria-hidden":"true"},"#")],-1),_=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pre_animation</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">v.look_at_entity = Math.abs(Math.abs(q.rotation_to_camera(1) - q.camera_rotation(1)) - 180) &lt; (20 / q.distance_from_camera) &amp;&amp; Math.abs(q.rotation_to_camera(0) + q.camera_rotation(0)) &lt; (10 / q.distance_from_camera);</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Because the query <code>q.rotation_to_camera</code> is based at the origin of the entity (their feet), the vertical detection range will be based around the bottom of the entity. The code below creates a modified variable for the vertical angle which takes a positional offset into account to allow the vertical detection range to be based around the center of the entity.</p></div>`,2),m=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pre_animation</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">v.rotation_to_camera_0 = -Math.atan2(-q.distance_from_camera * Math.sin(q.rotation_to_camera(0)) - 1, q.distance_from_camera * Math.cos(q.rotation_to_camera(0)));</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">v.look_at_entity = Math.abs(Math.abs(q.rotation_to_camera(1) - q.camera_rotation(1)) - 180) &lt; (20 / q.distance_from_camera) &amp;&amp; Math.abs(v.rotation_to_camera_0 + q.camera_rotation(0)) &lt; (60 / q.distance_from_camera);</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="modifying" tabindex="-1">Modifying <a class="header-anchor" href="#modifying" aria-hidden="true">#</a></h2><p>The provided code is very accurate for the standard Minecraft mob size of 1 block wide and 2 blocks tall, but for entities of different sizes the parameters should be changed. The <code>- 1</code> controls the positional offset of the center of the mob (- is upward, + is downward), the <code>20</code> controls the horizontal angle sensitivity, and the <code>60</code> controls the vertical angle sensitivity.</p><h2 id="explanation" tabindex="-1">Explanation <a class="header-anchor" href="#explanation" aria-hidden="true">#</a></h2><p>The variable detects when the player is looking at the entity by checking if the rotation angle required for the entity to look at the player is opposite the rotation angle required for the player to look at the entity. The horizontal and vertical angle sensitivity are modified by the distance of the entity from the camera to maintain accuracy.</p>`,5);function y(b,u,f,D,v,g){const t=r("CodeHeader");return c(),i("div",null,[d,h,n(t,null,{default:o(()=>[a("RP/entity/mob.entity.json")]),_:1}),_,n(t,null,{default:o(()=>[a("RP/entity/mob.entity.json")]),_:1}),m])}const q=l(p,[["render",y]]);export{F as __pageData,q as default};
