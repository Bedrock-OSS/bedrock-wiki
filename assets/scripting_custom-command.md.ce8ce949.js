import{_ as u,c as l,a as n,w as e,e as s,b as p,d as a,r as o,o as r}from"./404.md.84de77bb.js";const j='{"title":"Simple Custom Commands","description":"","frontmatter":{"title":"Simple Custom Commands","category":"Game Tests"},"headers":[{"level":2,"title":"Setup Pack","slug":"setup-pack"},{"level":2,"title":"Creating Custom Commands","slug":"creating-custom-commands"},{"level":2,"title":"Limited Command Usage by Tags","slug":"limited-command-usage-by-tags"}],"relativePath":"scripting/custom-command.md"}',i={},k=s('<p>Who doesn&#39;t want any custom command? Me neither. With Gametest, you can create your custom command. This article, we will create your own custom command using Gametest.</p><h2 id="setup-pack" tabindex="-1">Setup Pack <a class="header-anchor" href="#setup-pack" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Before creating GameTest Script, it is recommended to learn the basic of JavaScript, Addons, or some Gametest. To see what the feature of Gametest can do, see the <a href="https://docs.microsoft.com/en-us/minecraft/creator/scriptapi/mojang-minecraft/mojang-minecraft" target="_blank" rel="noopener noreferrer">Microsoft Docs</a></p></div><p>We think you have understood all of these things, so create own pack</p>',4),m=a("manifest.json"),d=s(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Custom Commands&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Custom Commands using Gametest&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c8c3239f-027f-4e80-890f-880eba65027d&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;min_engine_version&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Behavior Pack Module&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cd2cd41a-1849-410e-8f0a-5d30fde4bd9a&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">{</span>
			<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gametest Module&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;entry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;scripts/Index.js&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;f626740d-50a6-49f1-a24a-834983b72134&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			<span class="token comment">// Minecraft native module - needed to use the &quot;mojang-minecraft&quot; module</span>
			<span class="token property">&quot;uuid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b26a4d4c-afdf-4690-88f8-931846312678&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>On our manifest, we add Javascript Module for our Gametest. The <code>entry</code> is where our script is use. You can save it somewhere, but let it where it be. The dependency is for the module on our Script.</p>`,2),b=p("h2",{id:"creating-custom-commands",tabindex:"-1"},[a("Creating Custom Commands "),p("a",{class:"header-anchor",href:"#creating-custom-commands","aria-hidden":"true"},"#")],-1),g=p("p",null,"Now this is the fun part, creating our custom commands. First, we gonna add the module",-1),h=a("BP/scripts/Index.js"),_=s(`<div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> world <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;mojang-minecraft&#39;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>First, we gonna add simple commands, such as <code>!gmc</code> to change our Gamemode to Creative and <code>!gms</code> to change into Survival.</p>`,2),f=a("BP/scripts/Index.js"),v=s(`<div class="language-js line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">GamemodeChanger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   world<span class="token punctuation">.</span>events<span class="token punctuation">.</span>beforeChat<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">eventData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token keyword">var</span> Player <span class="token operator">=</span> eventData<span class="token punctuation">.</span>sender<span class="token punctuation">.</span>name
       <span class="token keyword">switch</span> <span class="token punctuation">(</span>eventData<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">case</span> <span class="token string">&#39;!gmc&#39;</span><span class="token operator">:</span> 
               world<span class="token punctuation">.</span><span class="token function">getDimension</span><span class="token punctuation">(</span><span class="token string">&#39;overworld&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">runCommand</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gamemode creative </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Player<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
	       eventData<span class="token punctuation">.</span>cancel <span class="token operator">=</span> <span class="token boolean">true</span>
           <span class="token keyword">break</span><span class="token punctuation">;</span>
           <span class="token keyword">case</span> <span class="token string">&#39;!gms&#39;</span><span class="token operator">:</span>
               world<span class="token punctuation">.</span><span class="token function">getDimension</span><span class="token punctuation">(</span><span class="token string">&#39;overworld&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">runCommand</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gamemode survival </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Player<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
	       eventData<span class="token punctuation">.</span>cancel <span class="token operator">=</span> <span class="token boolean">true</span>
           <span class="token keyword">break</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

<span class="token function">GamemodeChanger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>This part we create function to listen our commands. <code>world.events.beforeChat.subscribe</code> will check our message before it get send.</p><ul><li>Inside if statement <code>(eventData.message === &#39;!gmc&#39;)</code>, checking if player type the <code>!gmc</code>, which is our custom command identifier</li><li><code>eventData.cancel = true</code>. This will cancel the message to actually sended to another player</li><li><code>var Player = eventData.sender.name</code>. Decliare a variable &quot;<code>Player</code>&quot; as the Player name</li><li><code>world.getDimension(&#39;overworld&#39;).runCommands(\`gamemode creative \${Player}\`)</code>. Run the commands</li></ul><h2 id="limited-command-usage-by-tags" tabindex="-1">Limited Command Usage by Tags <a class="header-anchor" href="#limited-command-usage-by-tags" aria-hidden="true">#</a></h2><p>The function will always checking if player typing the special message to activate command, even the player that not access to the command itself or not OP. To prevent this, we can use tags to limited to the person that have the tags can run the commands.</p><p>For example, let our commands can be use only to the Admin that has <code>Admin</code> tags.</p>`,6),y=a("BP/scripts/Index.js"),q=s(`<div class="language-js line-numbers-mode"><pre><code><span class="token keyword">function</span> <span class="token function">GamemodeChanger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  world<span class="token punctuation">.</span>events<span class="token punctuation">.</span>beforeChat<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">eventData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>eventData<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">!gmc</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">&amp;&amp;</span> eventData<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">hasTag</span><span class="token punctuation">(</span><span class="token string">&#39;Admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      eventData<span class="token punctuation">.</span>cancel <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">var</span> Player <span class="token operator">=</span> eventData<span class="token punctuation">.</span>sender<span class="token punctuation">.</span>name
      world<span class="token punctuation">.</span><span class="token function">getDimension</span><span class="token punctuation">(</span><span class="token string">&#39;overworld&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">runCommand</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gamemode creative </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Player<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>eventData<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">!gms</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">&amp;&amp;</span> eventData<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">hasTag</span><span class="token punctuation">(</span><span class="token string">&#39;Admin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      eventData<span class="token punctuation">.</span>cancel <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">var</span> Player <span class="token operator">=</span> eventData<span class="token punctuation">.</span>sender<span class="token punctuation">.</span>name
      world<span class="token punctuation">.</span><span class="token function">getDimension</span><span class="token punctuation">(</span><span class="token string">&#39;overworld&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">runCommand</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gamemode survival </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Player<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">GamemodeChanger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Inside <code>if (eventData.message === \`!gmc\` &amp;&amp; eventData.sender.hasTag(&#39;Admin&#39;))</code>, it checking if player send the command and has &quot;Admin&quot; tag. If both condition met, then the command will running</p><p>For more information about Gametest, you can check on this <a href="/scripting/game-tests.html">wiki</a> or from the <a href="https://docs.microsoft.com/en-us/minecraft/creator/documents/gametestgettingstarted" target="_blank" rel="noopener noreferrer">Microsoft Docs</a></p>`,3);function w(T,C,D,P,S,A){const t=o("CodeHeader"),c=o("FolderView");return r(),l("div",null,[k,n(t,null,{default:e(()=>[m]),_:1}),d,n(c,{paths:["BP/manifest.json","BP/pack_icon.png","BP/scripts/Index.js"]},null,8,["paths"]),b,g,n(t,null,{default:e(()=>[h]),_:1}),_,n(t,null,{default:e(()=>[f]),_:1}),v,n(t,null,{default:e(()=>[y]),_:1}),q])}var V=u(i,[["render",w]]);export{j as __pageData,V as default};
