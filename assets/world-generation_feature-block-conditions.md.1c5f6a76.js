import{_ as p,c as o,a,w as t,e as n,r,o as c,d as e}from"./404.md.4e630b9f.js";var l="/assets/images/world-generation/rock_feature.png";const I='{"title":"Block Conditions for Features","description":"","frontmatter":{"title":"Block Conditions for Features","category":"Tutorials","tags":["experimental"],"mention":["PavelDobCZ23"]},"headers":[{"level":2,"title":"Files","slug":"files"},{"level":3,"title":"Features","slug":"features"},{"level":3,"title":"Feature Rule","slug":"feature-rule"},{"level":2,"title":"Summary","slug":"summary"}],"relativePath":"world-generation/feature-block-conditions.md"}',u={},i=n('<p>Sometimes you might need to place any feature conditionally depending on what blocks are below or above it for example. Not many features have the option to conditionally place them like so, but with a simple trick we can use it on anything we want.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This technique utilizes <code>aggregate_feature</code> and <code>single_block_feature</code> features. If you want to learn more about those, visit <a href="/world-generation/feature-types.html">Feature Types</a> article.</p></div><h2 id="files" tabindex="-1">Files <a class="header-anchor" href="#files" aria-hidden="true">#</a></h2><h3 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-hidden="true">#</a></h3><p>This feature places a <code>single_block_feature</code> which can be specified with the conditions we need for some other feature. The block can be kept there if it doesn&#39;t interrupt your desired features, but we will replace it with air in the next feature so that it doesn&#39;t cause any issues later on. This feature acts as a &quot;dummy&quot; feature because we only want its condition part but we don&#39;t need it to actually place anything.</p>',5),k=e("BP/features/block_condition_feature.json"),b=n(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
    <span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minecraft:single_block_feature&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:block_condition_feature&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;places_block&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:cobblestone&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Any block that isn&#39;t in &quot;may_replace&quot; list.</span>
        <span class="token property">&quot;enforce_placement_rules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enforce_survivability_rules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;may_replace&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;minecraft:air&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//Only blocks the feature is allowed to be placed in.</span>
        <span class="token property">&quot;may_attach_to&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//Attchment conditions - what blocks can surround the feature when its being placed</span>
            <span class="token property">&quot;bottom&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;minecraft:grass&quot;</span><span class="token punctuation">]</span> <span class="token comment">//Only blocks the feature can be placed on top of.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//This &quot;dummy&quot; feature will only allow the feature to generate in the air, right above a grass block.</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>This next feature is the one that is going to replace the cobblestone with the original air block that was there, however it can be ommited if you choose a block you actually want there or if it won&#39;t cause you any issues later.</p>`,2),m=e("BP/features/block_replacement_feature.json"),q=n(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
    <span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minecraft:single_block_feature&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:block_replacement_feature&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;places_block&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:air&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Replaces the block with another one which doesn&#39;t cause us any issue.</span>
        <span class="token property">&quot;enforce_placement_rules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;enforce_survivability_rules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;may_replace&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;minecraft:cobblestone&quot;</span><span class="token punctuation">]</span> <span class="token comment">//The block that we specified in the previous feature.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//This feature will replace the block with air that originally was there so it won&#39;t cause us any issue.</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>This is a feature that places the condition &quot;dummy&quot; feature, the feature that gets rid of the &quot;dummy&quot; block placed by the condition and after that the actual features we want to conditionally place. It uses <code>early_out</code> with value <code>first_failure</code> to make the aggregate stop if the conditional placement fails. It is the feature placed by a feature rule.</p>`,2),_=e("BP/features/aggregate_placement_rock_feature.json"),d=n(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
    <span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;minecraft:aggregate_feature&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:aggregate_placement_rock_feature&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;features&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;wiki:block_condition_feature&quot;</span><span class="token punctuation">,</span> <span class="token comment">//Single block feature that is used as &quot;dummy&quot; feature to act as our condition.</span>
            <span class="token string">&quot;wiki:block_replacement_feature&quot;</span><span class="token punctuation">,</span> <span class="token comment">//This feature replaces the &quot;dummy&quot; block we used in the feature above to not cause us any issues later.</span>
            <span class="token comment">//Any feature from this point on is what we actually want to place.</span>
            <span class="token string">&quot;wiki:rock_ore_feature&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;early_out&quot;</span><span class="token operator">:</span> <span class="token string">&quot;first_failure&quot;</span> <span class="token comment">//This makes sure that if the first(or any) feature fails, it will not continue to place anything else in the list.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//This is a feature that places all the features one by one in order and is placed by the feature rule.</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>This is the actual feature we want to be conditionally placed. It is <code>ore_feature</code> which doesn&#39;t have actual condition for us to allow it to only be placed in air and on a grass block, so this technique has helped us achieve that.</p>`,2),f=e("BP/features/rock_ore_feature.json"),h=n(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18.0&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;minecraft:ore_feature&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:rock_ore_feature&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;count&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
		<span class="token property">&quot;replace_rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;places_block&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:stone&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;may_replace&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;minecraft:air&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;minecraft:grass&quot;</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token property">&quot;places_block&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;minecraft:dirt&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;states&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                      <span class="token property">&quot;dirt_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;coarse&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;may_replace&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;minecraft:dirt&quot;</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you want to learn more about ore features, you can visit <a href="/world-generation/custom-ores.html">Generating Custom Ores</a> tutorial.</p></div><h3 id="feature-rule" tabindex="-1">Feature Rule <a class="header-anchor" href="#feature-rule" aria-hidden="true">#</a></h3>`,3),y=e("BP/feature_rules/overworld_after_surface_rock_feature.json"),g=n(`<div class="language-json line-numbers-mode"><pre><code><span class="token punctuation">{</span>
	<span class="token property">&quot;format_version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18.0&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;minecraft:feature_rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;identifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:overworld_after_surface_rock_feature&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;places_feature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wiki:aggregate_placement_rock_feature&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;conditions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">//Places the feature in any overworld biome along with features in the after_surface_pass</span>
			<span class="token property">&quot;placement_pass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;after_surface_pass&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;minecraft:biome_filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
				<span class="token punctuation">{</span>
					<span class="token property">&quot;any_of&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
						<span class="token punctuation">{</span>
							<span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;has_biome_tag&quot;</span><span class="token punctuation">,</span>
							<span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;==&quot;</span><span class="token punctuation">,</span>
							<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;overworld&quot;</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{</span>
							<span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;has_biome_tag&quot;</span><span class="token punctuation">,</span>
							<span class="token property">&quot;operator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;==&quot;</span><span class="token punctuation">,</span>
							<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;overworld_generation&quot;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">//1 in 3 chance to attempt 1 placement in chunk</span>
            <span class="token property">&quot;scatter_chance&quot;</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
			<span class="token property">&quot;iterations&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
			<span class="token property">&quot;coordinate_eval_order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xzy&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uniform&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token comment">//Places the feature along the heightmap</span>
			<span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token string">&quot;q.heightmap(v.worldx,v.worldz)&quot;</span><span class="token punctuation">,</span>
			<span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;distribution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;uniform&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;extent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-hidden="true">#</a></h2><p>After reading this tutorial you should be able to use block conditions on any feature you want. This was a very basic example as this can be used for far more complex creations and can be used with any feature.</p><p>Like that we have made a rock feature that can only be placed in air blocks and above grass blocks.</p><p>Generation screenshot:</p><p><img src="`+l+'" alt=""></p>',6);function w(v,T,P,S,A,C){const s=r("CodeHeader");return c(),o("div",null,[i,a(s,null,{default:t(()=>[k]),_:1}),b,a(s,null,{default:t(()=>[m]),_:1}),q,a(s,null,{default:t(()=>[_]),_:1}),d,a(s,null,{default:t(()=>[f]),_:1}),h,a(s,null,{default:t(()=>[y]),_:1}),g])}var V=p(u,[["render",w]]);export{I as __pageData,V as default};
