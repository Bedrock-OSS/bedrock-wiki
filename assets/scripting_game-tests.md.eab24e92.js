import{_ as l,c as p,a,w as e,e as s,r as t,o as r,d as o}from"./404.md.741b04df.js";const q=JSON.parse('{"title":"Script API","description":"","frontmatter":{"title":"Script API","category":"Script API","tags":["experimental"],"mentions":["cda94581"]},"headers":[{"level":2,"title":"Using Scripts","slug":"using-scripts","link":"#using-scripts","children":[]},{"level":2,"title":"Reference Documentation","slug":"reference-documentation","link":"#reference-documentation","children":[]}],"relativePath":"scripting/game-tests.md"}'),c={name:"scripting/game-tests.md"},i=s('<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The Script API requires you to activate <strong>&quot;Beta APIs&quot;</strong>, <strong>&quot;Enable GameTest Framework&quot;</strong>, or <strong>&quot;GameTest Framework&quot;</strong> in your world settings, and you must be using <strong>Minecraft 1.16.210.60 beta or above</strong>.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The Script API is currently in active development, and breaking changes are frequent. This page assumes the format of Minecraft beta 1.19.40.23</p></div><p>The Script API (formerly GameTests, and not to be confused with the <a href="/scripting/scripting-intro.html">Legacy Scripting API</a>) is a beta feature that allows for a new variety of creations, as well as unit tests (&quot;GameTests&quot;) to make it easier to test if game mechanics work. These are built with JavaScript files in the behavior pack folder.</p><h2 id="using-scripts" tabindex="-1">Using Scripts <a class="header-anchor" href="#using-scripts" aria-hidden="true">#</a></h2><p>In the behavior pack manifest, you need to add a <code>javascript</code> module (below 1.19.0) or <code>script</code> module (1.19.0+) and set an <code>entry</code> point for your GameTests.</p>',5),D=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">uuid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">239c134f-67bf-4738-9bcc-8c69d31b1f72</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">script</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">language</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">entry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts/gametests/Main.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,1),u=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">uuid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">239c134f-67bf-4738-9bcc-8c69d31b1f72</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">entry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts/gametests/Main.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Additionally, dependencies will need to be set based on modules used</p><p><strong>@minecraft/server</strong> - <code>b26a4d4c-afdf-4690-88f8-931846312678</code><br> AKA &quot;Minecraft&quot;, &quot;mojang-minecraft&quot;</p><p><strong>@minecraft/server-gametest</strong> - <code>6f4b6893-1bb6-42fd-b458-7fa3d0c89616</code><br> AKA &quot;GameTest&quot;, &quot;mojang-gametest&quot;</p><p><strong>@minecraft/server-ui</strong> - <code>2bd50a27-ab5f-4f40-a596-3641627c635e</code><br> Beta 1.18.20.21+ (Release 1.18.30+)<br> AKA &quot;mojang-minecraft-ui&quot;</p><p><strong>@minecraft/server-admin</strong> - <code>53d7f2bf-bf9c-49c4-ad1f-7c803d947920</code><br> BDS module for configuration of variables and secrets. Cannot be used on Minecraft clients.<br> Release 1.19.10+<br> AKA &quot;mojang-minecraft-server-admin&quot;</p><p><strong>@minecraft/server-net</strong> - <code>777b1798-13a6-401c-9cba-0cf17e31a81b</code><br> BDS module for executing HTTP-based requests. Cannot be used on Minecraft clients.<br> Release 1.19.10+<br> AKA &quot;mojang-net&quot;</p><p><strong>Version</strong></p><ul><li>Before 1.19.20 - <code>[ 0, 1, 0 ]</code></li><li>1.19.20+ - <code>&quot;1.0.0-beta&quot;</code></li></ul><p>As of release 1.19.30, you can also specify dependencies using <code>module_name</code>:</p>`,10),y=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">module_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@minecraft/server</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0-beta</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>(Beta 1.19.40.23+) In order to use the <code>eval()</code> function or <code>Function()</code> constructor, specify in the manifest capabilities:</p>`,2),d=s(`<div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">capabilities</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">script_eval</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The entry point contains scripts and/or imports to other script files.</p>`,2),m=s(`<div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./MyGameTest.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./OtherGameTest.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,1),F=s(`<div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// This file demonstrates that the code is working by</span></span>
<span class="line"><span style="color:#676E95;">// Spamming the chat with &quot;Hello World&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;">// Import world component from &quot;@minecraft/server&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">world</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@minecraft/server</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">// Import variables from other javascript file</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> defaultExport</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">export1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./OtherGameTest.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Spams the chat with &quot;Hello World&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">world</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">events</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tick</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">subscribe</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;">// Runs command in overworld dimension</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#A6ACCD;">world</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDimension</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">overworld</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">runCommandAsync</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">say Hello World</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,1),C=s(`<div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defaultExport</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">param</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> export1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">export1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>GameTests can be used with the <code>/gametest</code> command.</p><ul><li><code>/gametest runthis</code> - Runs the nearest GameTest in range.</li><li><code>/gametest runthese</code> - Runs all GameTests in range.</li><li><code>/gametest pos</code> - It tells you the relative coordinates of the nearest GameTest.</li><li><code>/gametest clearall [radius: int]</code> - Removes all GameTests in the specified radius.</li><li><code>/gametest run &lt;testName: GameTestName&gt; [rotationSteps: int]</code> - Creates and runs the specified GameTest.</li><li><code>/gametest runset [tagTag: GameTestTag] [rotationSteps: int]</code> - Creates and runs all GameTests with the specified tag.</li><li><code>/gametest create &lt;testName: string&gt; [width: int] [height: int] [depth: int]</code> - Creates a blank GameTest area with the specified dimensions.</li><li><code>/reload</code> - Reloads all function and script files from all behavior packs. (1.19+)</li></ul><h2 id="reference-documentation" tabindex="-1">Reference Documentation <a class="header-anchor" href="#reference-documentation" aria-hidden="true">#</a></h2><p>Official documentation on are hosted on Microsoft Learn and can be found here:</p><ul><li><a href="https://learn.microsoft.com/minecraft/creator/scriptapi/mojang-minecraft/mojang-minecraft" target="_blank" rel="noreferrer"><code>@minecraft/server</code></a></li><li><a href="https://learn.microsoft.com/minecraft/creator/scriptapi/mojang-gametest/mojang-gametest" target="_blank" rel="noreferrer"><code>@minecraft/server-gametest</code></a></li><li><a href="https://learn.microsoft.com/minecraft/creator/scriptapi/mojang-minecraft-ui/mojang-minecraft-ui" target="_blank" rel="noreferrer"><code>@minecraft/server-ui</code></a></li><li><a href="https://learn.microsoft.com/minecraft/creator/scriptapi/mojang-minecraft-server-admin/mojang-minecraft-server-admin" target="_blank" rel="noreferrer"><code>@minecraft/server-admin</code></a></li><li><a href="https://learn.microsoft.com/minecraft/creator/scriptapi/mojang-net/mojang-net" target="_blank" rel="noreferrer"><code>@minecraft/server-net</code></a></li></ul><p>Official typescript declarations can be found here:</p><ul><li><a href="https://www.npmjs.com/package/@minecraft/server/v/1.0.0-beta.11940b23" target="_blank" rel="noreferrer"><code>@minecraft/server</code></a></li><li><a href="https://www.npmjs.com/package/@minecraft/server-gametest/v/1.0.0-beta.11940b23" target="_blank" rel="noreferrer"><code>@minecraft/server-gametest</code></a></li><li><a href="https://www.npmjs.com/package/@minecraft/server-ui/v/1.0.0-beta.11940b23" target="_blank" rel="noreferrer"><code>@minecraft/server-ui</code></a></li><li><a href="https://www.npmjs.com/package/@minecraft/server-admin/v/1.0.0-beta.11940b23" target="_blank" rel="noreferrer"><code>@minecraft/server-admin</code></a></li><li><a href="https://www.npmjs.com/package/@minecraft/server-net/v/1.0.0-beta.11940b23" target="_blank" rel="noreferrer"><code>@minecraft/server-net</code></a></li></ul><p>These allow for enhanced auto-completions and validation when used inside of your editor.</p><ul><li>bridge. v2: ships with GameTest support built-in.</li><li>Visual Studio Code: install Node.js and npm, then run the following in command line:</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">npm install @minecraft/server</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install @minecraft/server-gametest</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install @minecraft/server-ui</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install @minecraft/server-admin</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install @minecraft/server-net</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>If you&#39;re having issues with the Script API, consider joining <strong>Bedrock Add-Ons</strong> for support, which you can find alongside a vast array of other resources on the <a href="/meta/useful-links.html#discord-links">Useful Links</a> page!</p>`,12);function b(A,f,g,_,h,v){const n=t("CodeHeader");return r(),p("div",null,[i,a(n,null,{default:e(()=>[o("Minecraft 1.19.0+")]),_:1}),D,a(n,null,{default:e(()=>[o("Minecraft version below 1.19.0")]),_:1}),u,a(n,null,{default:e(()=>[o("BP/manifest.json#dependencies[0]")]),_:1}),y,a(n,null,{default:e(()=>[o("BP/manifest.json")]),_:1}),d,a(n,null,{default:e(()=>[o("BP/scripts/gametests/Main.js")]),_:1}),m,a(n,null,{default:e(()=>[o("BP/scripts/gametests/MyGameTest.js")]),_:1}),F,a(n,null,{default:e(()=>[o("BP/scripts/gametests/OtherGameTest.js")]),_:1}),C])}const w=l(c,[["render",b]]);export{q as __pageData,w as default};
